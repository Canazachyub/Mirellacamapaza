import{j as e,m as s,U as a,V as t,a9 as i,u as l,aa as n,ab as r}from"./ui-CW4SeC5O.js";import{u as d}from"./useQuery-CUS0H2pv.js";import{D as o}from"./DashboardLayout-uE_VeSTt.js";import{c}from"./index-BjHGFTFM.js";import{C as x}from"./Card-CVIi69MT.js";import"./vendor-fM8kc8IR.js";import{d as m}from"./api-Cz4wYYaF.js";import"./constants-CTD2yw_V.js";const y=({title:s,value:a,icon:t,trend:i,trendValue:l,color:d})=>e.jsx(x,{className:"relative overflow-hidden",children:e.jsxs("div",{className:"flex items-start justify-between",children:[e.jsxs("div",{children:[e.jsx("p",{className:"text-secondary-500 text-sm font-medium",children:s}),e.jsx("p",{className:"text-3xl font-bold text-secondary-900 mt-2",children:a}),i&&l&&e.jsxs("div",{className:"flex items-center gap-1 mt-2",children:["up"===i?e.jsx(n,{className:"w-4 h-4 text-green-500"}):e.jsx(r,{className:"w-4 h-4 text-red-500"}),e.jsx("span",{className:c("text-sm font-medium","up"===i?"text-green-500":"text-red-500"),children:l}),e.jsx("span",{className:"text-secondary-400 text-sm",children:"vs semana pasada"})]})]}),e.jsx("div",{className:c("p-3 rounded-xl",{blue:"bg-blue-100 text-blue-600",green:"bg-green-100 text-green-600",purple:"bg-purple-100 text-purple-600",orange:"bg-orange-100 text-orange-600",red:"bg-red-100 text-red-600"}[d]),children:e.jsx(t,{className:"w-6 h-6"})})]})}),h=()=>{const{data:n,isLoading:r}=d({queryKey:["stats"],queryFn:m,refetchInterval:6e4}),c=null==n?void 0:n.data;return e.jsxs(o,{title:"Dashboard",children:[e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-6 mb-8",children:[e.jsx(s.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.1},children:e.jsx(y,{title:"Total Afiliados",value:r?"...":(null==c?void 0:c.totalAffiliates)||0,icon:a,color:"blue",trend:"up",trendValue:`+${(null==c?void 0:c.recentAffiliates)||0}`})}),e.jsx(s.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.2},children:e.jsx(y,{title:"Mensajes",value:r?"...":(null==c?void 0:c.totalMessages)||0,icon:t,color:"green"})}),e.jsx(s.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.3},children:e.jsx(y,{title:"Voluntarios",value:r?"...":(null==c?void 0:c.totalVolunteers)||0,icon:i,color:"purple"})}),e.jsx(s.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.4},children:e.jsx(y,{title:"Mensajes sin leer",value:r?"...":(null==c?void 0:c.unreadMessages)||0,icon:t,color:"red"})})]}),e.jsxs("div",{className:"grid lg:grid-cols-2 gap-6 mb-8",children:[e.jsx(s.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.5},children:e.jsxs(x,{children:[e.jsx("h3",{className:"text-lg font-bold text-secondary-900 mb-4",children:"Afiliados por Distrito"}),(null==c?void 0:c.affiliatesByDistrict)?e.jsx("div",{className:"space-y-3",children:Object.entries(c.affiliatesByDistrict).sort((e,s)=>s[1]-e[1]).slice(0,5).map(([s,a])=>e.jsxs("div",{children:[e.jsxs("div",{className:"flex justify-between text-sm mb-1",children:[e.jsx("span",{className:"text-secondary-700",children:s}),e.jsx("span",{className:"font-medium",children:a})]}),e.jsx("div",{className:"h-2 bg-secondary-100 rounded-full overflow-hidden",children:e.jsx("div",{className:"h-full bg-primary-600 rounded-full",style:{width:a/c.totalAffiliates*100+"%"}})})]},s))}):e.jsx("p",{className:"text-secondary-500 text-center py-8",children:"No hay datos disponibles"})]})}),e.jsx(s.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.6},children:e.jsxs(x,{children:[e.jsx("h3",{className:"text-lg font-bold text-secondary-900 mb-4",children:"Voluntarios por Área"}),(null==c?void 0:c.volunteersByArea)?e.jsx("div",{className:"space-y-3",children:Object.entries(c.volunteersByArea).sort((e,s)=>s[1]-e[1]).slice(0,5).map(([s,a])=>e.jsxs("div",{children:[e.jsxs("div",{className:"flex justify-between text-sm mb-1",children:[e.jsx("span",{className:"text-secondary-700",children:s}),e.jsx("span",{className:"font-medium",children:a})]}),e.jsx("div",{className:"h-2 bg-secondary-100 rounded-full overflow-hidden",children:e.jsx("div",{className:"h-full bg-purple-600 rounded-full",style:{width:a/c.totalVolunteers*100+"%"}})})]},s))}):e.jsx("p",{className:"text-secondary-500 text-center py-8",children:"No hay datos disponibles"})]})})]}),e.jsx(s.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.7},children:e.jsxs(x,{children:[e.jsx("h3",{className:"text-lg font-bold text-secondary-900 mb-4",children:"Acciones Rápidas"}),e.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-4",children:[e.jsxs("a",{href:"/admin/mensajes",className:"flex flex-col items-center gap-2 p-4 rounded-xl bg-secondary-50 hover:bg-secondary-100 transition-colors",children:[e.jsx(t,{className:"w-8 h-8 text-primary-600"}),e.jsx("span",{className:"text-sm font-medium text-secondary-700",children:"Ver Mensajes"})]}),e.jsxs("a",{href:"/admin/afiliados",className:"flex flex-col items-center gap-2 p-4 rounded-xl bg-secondary-50 hover:bg-secondary-100 transition-colors",children:[e.jsx(a,{className:"w-8 h-8 text-blue-600"}),e.jsx("span",{className:"text-sm font-medium text-secondary-700",children:"Ver Afiliados"})]}),e.jsxs("a",{href:"/admin/voluntarios",className:"flex flex-col items-center gap-2 p-4 rounded-xl bg-secondary-50 hover:bg-secondary-100 transition-colors",children:[e.jsx(i,{className:"w-8 h-8 text-purple-600"}),e.jsx("span",{className:"text-sm font-medium text-secondary-700",children:"Ver Voluntarios"})]}),e.jsxs("a",{href:"/admin/eventos",className:"flex flex-col items-center gap-2 p-4 rounded-xl bg-secondary-50 hover:bg-secondary-100 transition-colors",children:[e.jsx(l,{className:"w-8 h-8 text-orange-600"}),e.jsx("span",{className:"text-sm font-medium text-secondary-700",children:"Ver Eventos"})]})]})]})})]})};export{h as default};
